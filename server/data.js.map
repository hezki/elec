{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\data.js"],"names":["err","e","req","console","log","util","inspect","Error","only","att","r","i","length","wait","require","extend","_extend","mysql","mssql","http","yes","fs","private_log_pool","createPool","host","port","user","password","database","timezone","dateStrings","insecureAuth","multipleStatements","module","exports","conn","route","path","logSql","pool_id","q","appendFileSync","Date","format","connect","dbinfo","conn_a_id","type","sqlconn","Connection","server","db","pool","Request","ms_con","pools","conn_a","pass","_db","on","my_con","_dbinfo","get_pool_id","id","indexOf","mssql_format","prms","replace","a","x","v","push","join","vsprintf","sid","ip","tbl","row","old","val","n","JSON","stringify","query","er","stack","rst","retId","log_err","qp","proc","cb","sqlserver","_pool","res","c","getConnection","con","release","arguments","fa","undefined","async","no_log","substr","pre_proc","message","get_flds","byname","f","name","flags","t","upd","Array","prototype","slice","call","IncomingMessage","splice","upd_internal","apply","data","onlyFlds","idFld","retQ","require_flds","logObj","glob","C","headers","tmp","get_login","uid","split","trim","d","Object","keys","flds","test","dt2str","f1","f2","f3","ret","forEach","is_meta","msrst","myrst"],"mappings":"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","file":"data.js.map"}