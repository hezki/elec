{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\data.js"],"names":["err","e","req","console","log","util","inspect","Error","only","att","r","i","length","wait","require","extend","_extend","mysql","mssql","http","yes","fs","private_log_pool","existsSync","x","readFileSync","toString","createPool","JSON","parse","blue","bold","module","exports","conn","route","path","logSql","pool_id","q","appendFileSync","replace","Date","format","connect","dbinfo","conn_a_id","type","sqlconn","Connection","server","db","database","pool","Request","ms_con","pools","conn_a","port","user","pass","password","_db","host","timezone","dateStrings","insecureAuth","multipleStatements","on","my_con","_dbinfo","get_pool_id","id","indexOf","mssql_format","prms","a","v","push","join","vsprintf","sid","ip","tbl","row","old","val","n","stringify","query","er","stack","rst","retId","log_err","qp","proc","cb","sqlserver","_pool","res","c","getConnection","con","release","arguments","fa","undefined","async","no_log","substr","pre_proc","message","get_flds","byname","f","name","flags","t","upd","Array","prototype","slice","call","IncomingMessage","splice","upd_internal","apply","data","onlyFlds","idFld","retQ","require_flds","logObj","glob","C","headers","tmp","get_login","uid","split","trim","d","Object","keys","flds","test","dt2str","f1","f2","f3","ret","forEach","is_meta","msrst","myrst"],"mappings":"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","file":"data.js.map"}