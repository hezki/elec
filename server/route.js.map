{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\route.js"],"names":["util","require","wait","express","extend","fs","mysql","request","jade","local","path","f","pop","n","push","v","module","exports","_path","space","evnt","a","i","arguments","length","join","set","undefined","route","Router","post","req","res","next","console","log","url","red","bold","header","replace","method","ajax","public_urls","retErr","e","UID","stack","x","Error","pre_proc","q","m","d1","d2","d3","glob","C","toUpperCase","proc","_procf","apply","this","data","DEBUG_IP","DEBUG_LOGIN","login","substr","initdata","conn","initelas","db","render","view","opt","cb","uid","get_login","yellow","renderFile","fn","ex","split","last","existsSync","global","app","locals","all","readFileSync","toString","localy","on","get","forEach","d","c","w","lo","ev","include","redirect","indexOf","src","decodeURI","originalUrl","encodeURI","fiber","func","launchFiber","use","check_login","session","login_path","is_login","login_space","is_pub","filter","pub","t","String","RegExp","match","ip","obj","test","login_target","body","cmd","headers","name","pass","er","login_obj","err","blue","isInternal","JSON","stringify","rst","pool_id","prms","lq","pools","conn_a","trim","toLowerCase","upd","tbl","_data","onlyFlds","idFld","retQ","json","result","serv","p","loginErr","pathToAssets","route_info"],"mappings":"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","file":"route.js.map"}