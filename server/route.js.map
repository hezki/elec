{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\route.js"],"names":["util","require","wait","express","extend","fs","mysql","request","jade","local","path","f","pop","n","push","v","module","exports","_path","space","evnt","a","i","arguments","length","join","set","undefined","route","Router","post","req","res","next","console","log","url","red","bold","header","replace","method","ajax","public_urls","retErr","e","UID","stack","Error","pre_proc","q","m","d1","d2","d3","glob","C","toUpperCase","proc","_procf","apply","this","data","DEBUG_IP","DEBUG_LOGIN","login","substr","initdata","conn","initelas","db","render","view","opt","cb","uid","get_login","yellow","renderFile","fn","ex","split","last","existsSync","x","global","app","locals","all","readFileSync","toString","localy","on","get","forEach","d","c","w","lo","ev","include","redirect","indexOf","src","decodeURI","originalUrl","encodeURI","fiber","func","launchFiber","use","check_login","session","login_path","is_login","login_space","is_pub","filter","pub","t","String","RegExp","match","ip","obj","test","login_target","body","cmd","headers","name","pass","er","login_obj","err","blue","isInternal","JSON","stringify","rst","pool_id","prms","lq","pools","conn_a","trim","toLowerCase","upd","tbl","_data","onlyFlds","idFld","retQ","json","result","serv","p","loginErr","pathToAssets","route_info"],"mappings":"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","file":"route.js.map"}