{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\route.js"],"names":["util","require","wait","express","extend","fs","mysql","request","jade","local","path","f","pop","n","push","v","module","exports","_path","config","evnt","a","i","arguments","length","join","set","undefined","space","directory","dir","route","Router","post","req","res","next","console","log","url","red","bold","header","replace","method","ajax","public_urls","retErr","e","UID","stack","x","Error","pre_proc","q","m","d1","d2","d3","glob","C","toUpperCase","proc","_procf","apply","this","data","DEBUG_IP","DEBUG_LOGIN","login","substr","initdata","conn","initelas","db","render","view","opt","cb","uid","get_login","yellow","renderFile","fn","ex","split","last","existsSync","global","app","locals","all","readFileSync","toString","localy","on","get","forEach","d","c","w","lo","alias","ev","include","redirect","indexOf","src","decodeURI","originalUrl","encodeURI","fiber","func","launchFiber","use","check_login","session","login_path","is_login","login_space","is_pub","filter","pub","t","String","RegExp","match","ip","obj","test","login_target","body","cmd","headers","name","pass","call","er","login_obj","loginRedirect","err","blue","isInternal","JSON","stringify","rst","pool_id","prms","lq","pools","conn_a","trim","toLowerCase","upd","tbl","_data","onlyFlds","idFld","retQ","json","result","serv","p","loginErr","pathToAssets","route_info"],"mappings":"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","file":"route.js.map"}