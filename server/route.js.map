{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\route.js"],"names":["util","require","wait","express","extend","fs","mysql","request","jade","local","path","f","pop","n","push","v","module","exports","_path","space","evnt","a","i","arguments","length","join","set","undefined","route","Router","post","req","res","next","console","log","url","red","bold","header","replace","method","ajax","public_urls","retErr","e","UID","stack","x","Error","pre_proc","q","m","d1","d2","d3","glob","C","toUpperCase","proc","_procf","apply","this","data","DEBUG_IP","DEBUG_LOGIN","login","substr","initdata","conn","initelas","db","render","view","opt","cb","uid","get_login","yellow","renderFile","fn","ex","split","last","existsSync","global","app","locals","all","readFileSync","toString","localy","on","get","forEach","d","c","w","lo","alias","ev","include","redirect","indexOf","src","decodeURI","originalUrl","encodeURI","fiber","func","launchFiber","use","check_login","session","login_path","is_login","login_space","is_pub","filter","pub","t","String","RegExp","match","ip","obj","test","login_target","body","cmd","headers","name","pass","call","er","login_obj","loginRedirect","err","blue","isInternal","JSON","stringify","rst","pool_id","prms","lq","pools","conn_a","trim","toLowerCase","upd","tbl","_data","onlyFlds","idFld","retQ","json","result","serv","p","loginErr","pathToAssets","route_info"],"mappings":"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","file":"route.js.map"}