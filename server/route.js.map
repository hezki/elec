{"version":3,"sources":["z:\\node.js\\node-bootstrap\\test2\\app\\server\\route.js"],"names":["util","require","wait","express","extend","fs","mysql","request","jade","local","path","f","pop","n","push","v","module","exports","_path","space","evnt","a","i","arguments","length","join","set","undefined","route","Router","post","req","res","next","console","log","url","red","bold","header","replace","method","ajax","public_urls","retErr","e","UID","stack","x","trace","Error","pre_proc","q","m","d1","d2","d3","glob","C","toUpperCase","proc","_procf","apply","this","data","DEBUG_IP","DEBUG_LOGIN","login","substr","initdata","conn","initelas","db","render","view","opt","cb","uid","get_login","yellow","renderFile","fn","ex","split","last","existsSync","global","app","locals","all","readFileSync","toString","localy","on","get","forEach","d","c","w","lo","ev","include","redirect","indexOf","src","decodeURI","originalUrl","encodeURI","fiber","func","launchFiber","use","check_login","session","login_path","is_login","login_space","is_pub","filter","pub","t","String","RegExp","match","ip","obj","test","login_target","body","cmd","headers","name","pass","er","login_obj","err","blue","isInternal","JSON","stringify","rst","pool_id","prms","lq","pools","conn_a","trim","toLowerCase","upd","tbl","_data","onlyFlds","idFld","retQ","json","result","serv","p","loginErr","pathToAssets","route_info"],"mappings":"AAAA,YACA,IAAIA,MAAKC,QAAQ,QACbC,KAAKD,QAAQ,YACbE,QAAQF,QAAQ,WAChBG,OAAOH,QAAQ,UACfI,GAAGJ,QAAQ,MACXK,MAAQL,QAAQ,SAChBM,QAAQN,QAAQ,WAChBO,KAAOP,QAAQ,QAEfQ,MAAM,SAASC,GAClB,GAAIC,KACJ,QACCD,KAAMA,EACNE,IAAM,SAASC,GAAG,MAAOF,GAAEE,GAAGF,EAAEE,OAChCC,KAAM,SAASD,EAAEE,GACXF,IAAKF,KAAGA,EAAEE,OAEfF,EAAEE,GAAGC,KAAKC,KAKbC,QAAOC,QAAU,SAASC,EAAMC,GAoD/B,QAASC,KAER,IAAI,GADAC,MACIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAA0B,gBAAfC,WAAUD,IAA6B,QAAdC,UAAUD,GAAWD,EAAEP,KAAKS,UAAUD,IAAKD,EAAEP,KAAK,IAAIS,UAAUD,GAAG,IACtI,OAAO,WAAWD,EAAEI,KAAK,KAAK,kBAE/B,QAASC,KAER,IAAI,GADAL,MACIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAA0B,gBAAfC,WAAUD,IAA6B,QAAdC,UAAUD,GAAWD,EAAEP,KAAKS,UAAUD,IAAKD,EAAEP,KAAK,IAAIS,UAAUD,GAAG,IACtI,OAAO,wBAAwBD,EAAE,IAAWM,SAAPN,EAAE,GAAe,IAAIA,EAAE,GAAG,KAAYM,SAAPN,EAAE,GAAe,IAAIA,EAAE,GAAG,IAAI,IA3DnG,GAAIO,GAAQzB,QAAQ0B,QACpBD,GAAME,KAAK,cAAc,SAASC,EAAIC,EAAIC,GACzCC,QAAQC,IAAIJ,EAAIK,IAAIC,IAAIC,MACxBN,EAAIO,OAAO,eAAgB,aAE3BR,EAAIK,IAAIL,EAAIK,IAAII,QAAQ,UAAU,IAClCT,EAAIU,OAAO,MACXV,EAAIW,KAAK,EACTT,MAEDL,EAAMe,eACNf,EAAMgB,OAAO,SAAUC,EAAEd,EAAIC,GAC5B,IACCE,QAAQC,IAAI,SAASU,EAAEjB,EAAMkB,IAAID,EAAEE,OAOnC,MAAMC,IAGP,KAFAd,SAAQC,UAAU,IAClBD,QAAQe,QACS,gBAAL,GAAc,GAAIC,OAAML,GAAGA,GAExCjB,EAAMuB,SAAS,SAASC,GAEvB,MADIA,KAAEA,EAAE,IACDA,EAAEZ,QAAQ,oBAAoB,SAASa,EAAEC,EAAGC,EAAGC,GAAgC,MAAO5B,GAAM6B,KAAKC,EAAEH,EAAGI,gBAAgB,MAE9H/B,EAAMgC,KAAK,WACV,GAAIvC,GAAEE,SACN,IAAiB,kBAAPF,GAAE,GAEX,MADIO,GAAMiC,SAAOjC,EAAMiC,WAChBjC,EAAMiC,OAAO/C,KAAKO,EAAE,GAE5B,IAAIO,EAAMiC,OAEV,IAAI,GAAIvC,GAAE,EAAEA,EAAEM,EAAMiC,OAAOrC,OAAOF,IAAIM,EAAMiC,OAAOvC,GAAGwC,MAAMC,KAAK1C,GAIlE,IAAe2C,GAAKC,EAASC,EAAYC,EAArCzD,EAAKQ,CACW,MAAjBR,EAAK0D,OAAO,MAAS1D,EAAKA,EAAK0D,OAAO,EAAE1D,EAAKc,OAAO,IAEvDI,EAAMyC,SAAS,SAASC,GAEvB,MAAQN,GAAK/D,QAAQ,aAAaqE,EAAK1C,EAAMlB,IAE9CkB,EAAM2C,SAAS,SAASC,GACvB,MAAOvE,SAAQ,aAAauE,IAiB7B5C,EAAM6C,OAAO,SAASzC,EAAI0C,EAAKC,EAAIC,GAClC,GAAIC,GAAIjD,EAAMkD,UAAU9C,EAAID,KAAK8C,KAAK,CAEtC3C,SAAQC,IAAI,UAAUuC,EAAM,kBAAkB,GAAG9C,EAAMkB,KAAKiC,OAC5D,IAAIC,GAAW,SAASC,EAAGN,GAC1B,GAAIO,GAAGD,EAAGzC,QAAQ,QAAQ,IAAI2C,MAAM,IAMpC,IAJGD,EAAG1D,OAAO,GAAGyD,GAAI,QAAQC,EAAG,QAC1BA,EAAGA,EAAGE,OACXH,EAAG,gBAAgBvE,EAAK,IAAIuE,EAC5B/C,QAAQC,IAAI,YAAY8C,IACpB5E,GAAGgF,WAAWJ,GAEjB,MADA/C,SAAQC,KAAK8C,EAAG,eAAeF,QACxB,EAGR,IAAO,QAAJG,EAAW,CACb,GAAIlC,GAAE5C,UAAUkF,OAAOC,IAAIC,OAAOC,EAAId,EACtC,OAAOnE,MAAKwE,WAAWC,EAAGjC,GAU3B,GAAIA,GAAE3C,GAAGqF,aAAaT,GAAIU,UAE1B,OAAO3C,IAEJ4C,EAAOnF,MAAMC,EACjBkF,GAAOC,MACPD,EAAOC,GAAGC,IAAI,WACb,GAAI9C,KACJ4C,GAAOC,GAAGE,QAAQ,SAASC,GAAQA,EAAE,IAAMhD,KAAGA,EAAEgD,EAAE,QAAOhD,EAAEgD,EAAE,IAAIlF,KAAKkF,IACtE,IAAIC,KACJ,KAAI,GAAIC,KAAKlD,GAAE,CACd,GAAImD,KACJnD,GAAEkD,GAAGH,QAAQ,SAASC,GACrBG,EAAGrF,KAAKkF,EAAE,GAAGL,WAAWnD,QAAQ,kBAAkB,IAAIA,QAAQ,MAAM,OAErEyD,EAAEnF,KAAK,UAAUoF,EAAE,gBAAgBC,EAAG1E,KAAK,OAAO,WAGnD,MAAOwE,IAGJrE,EAAM6B,KAAKC,IAAE9B,EAAM6B,KAAKC,MACxB9B,EAAM6B,KAAKC,EAAEhD,OAAKkB,EAAM6B,KAAKC,EAAEhD,KAAKA,EACxC,IAAI+E,GAAIrF,UAAUuE,GAAKD,KAAKA,EAAKa,IAAIA,IAAI7C,KAAKV,EAAID,IAAIW,KAAKyB,MAAMvC,EAAMkD,UAAU9C,EAAID,KAAK2B,EAAE9B,EAAM6B,KAAKC,EAAEmB,IAAIA,EAAI9C,IAAIC,EAAID,IAAIC,IAAIA,EAAIoE,GAAGhF,EAAKM,IAAIA,EAAIjB,MAAMmF,EAAOS,QAAQrB,GAE1KhD,GAAIyC,OAAO/D,EAAK,IAAIgE,EAAKe,EAAIb,IAG9BhD,EAAM0E,SAAS,SAAStE,EAAII,GAC3B,GAAIgB,GAAEhB,CACN,IAAGA,EAAImE,QAAQ,MAAM,EAAE,CAEtB,GAAIC,GAAIC,UAAUzE,EAAID,IAAI2E,aAAavB,MAAM,IAC7CqB,GAAI5F,MACJ4F,EAAIA,EAAI/E,KAAK,KACb2B,EAAEoD,GAAsB,KAAjBpE,EAAIgC,OAAO,EAAE,GAAQ,GAAG,KAAKhC,EAIrC,MAFAgB,GAAEuD,UAAUvD,GACZlB,QAAQC,IAAI,eAAeiB,GACpBpB,EAAIsE,SAASlD,IAErBxB,EAAMgF,MAAM,SAAS7E,EAAKC,EAAK6E,GAC9B,QAASjD,KACR,IACCiD,IACA,MAAMhE,GACNjB,EAAMgB,OAAOC,EAAEd,EAAIC,IAGrB9B,KAAK4G,YAAYlD,IAElBhC,EAAMmF,IAAI,SAAShF,EAAKC,EAAKC,GAE5BL,EAAMgF,MAAM7E,EAAIC,EAAIC,KAErBL,EAAMoF,YAAY,SAASjF,KAM3BH,EAAMkD,UAAU,SAAS/C,GACxB,IAAIA,EAAI,KAAM,IAAImB,OAAM,6BACxB,OAAInB,GAAIkF,QACLlF,EAAIkF,QAAQC,YAAcnF,EAAIkF,QAAQC,WAAWtF,EAAMlB,OACzDqB,EAAIkF,QAAQC,WAAWtF,EAAMlB,MAAMyG,UACnCpF,EAAIkF,QAAQC,WAAWtF,EAAMlB,MAAMyD,MAAapC,EAAIkF,QAAQC,WAAWtF,EAAMlB,MAAMyD,MACjFhD,GAASY,EAAIkF,QAAQC,aAAenF,EAAIkF,QAAQC,WAAWtF,EAAMlB,OAChEqB,EAAIkF,QAAQG,YAAYjG,IAAQY,EAAIkF,QAAQG,YAAYjG,GAAOgG,UACjEpF,EAAIkF,QAAQC,WAAWxG,GAAMqB,EAAIkF,QAAQG,YAAYjG,GAC9CY,EAAIkF,QAAQC,WAAWtF,EAAMlB,MAAMyD,cAK7CvC,EAAMmF,IAAI,SAAShF,EAAKC,EAAKC,GAE5B,GAAe,WAAZF,EAAIU,OAAkB,MAAOR,IAChC,IAAGL,EAAMe,YAAY,CACpB,GAAI0E,GAAOzF,EAAMe,YAAY2E,OAAO,SAASC,GAC5C,GAAIC,GAAEC,OAAO1F,EAAIK,KAAK+C,MAAM,KAAK,EACjC,OAAGoC,aAAeG,QACVF,EAAEG,MAAMJ,GACTA,GAAKC,GAEb,IAAIH,EAAO7F,OAEV,MADAU,SAAQC,IAAI,aAAakF,EAAO,IACzBpF,IAKT,GAFIF,EAAIkF,QAAQC,aAAWnF,EAAIkF,QAAQC,eACnCnF,EAAIkF,QAAQG,cAAYrF,EAAIkF,QAAQG,gBACrCrF,EAAIkF,QAAQC,WAAWxG,IAAOqB,EAAIkF,QAAQC,WAAWxG,GAAMyG,SAAS,MAAOlF,IAC9E,IAAGd,GACCY,EAAIkF,QAAQG,YAAYjG,IAAQY,EAAIkF,QAAQG,YAAYjG,GAAOgG,SAGjE,MAFApF,GAAIkF,QAAQC,WAAWxG,GAAMqB,EAAIkF,QAAQG,YAAYjG,GACrDe,QAAQC,IAAIzB,EAAKqE,OAAOzC,KAAK,UAAUnB,EAAM,UACtCc,GAGT,IAAGgC,EAASsC,QAAQxE,EAAI6F,IAAI,GAAG,CAC9B,GAAIC,GAAIzH,UAAU8D,EAClBnC,GAAIkF,QAAQC,WAAWxG,MACvBqB,EAAIkF,QAAQC,WAAWxG,GAAMyD,MAAM0D,EACnC9F,EAAIkF,QAAQC,WAAWxG,GAAMyG,SAAS,EACnChG,IAAMY,EAAIkF,QAAQG,YAAYjG,GAAOY,EAAIkF,QAAQC,WAAWxG,IAC/DwB,QAAQC,IAAI,eAEb,GAAIa,GAAEpB,EAAMoF,YAAYjF,EACxB,IAAOJ,SAAJqB,EACE,CAAA,GAAIA,EACJ,CACJ,GAAgB,gBAAL,GAAe,KAAM,IAAIE,OAAM,0BAK1C,OAJAnB,GAAIkF,QAAQC,WAAWxG,GAAMsC,EAC7BjB,EAAIkF,QAAQC,WAAWxG,GAAMyG,SAAS,EACnChG,IAAMY,EAAIkF,QAAQG,YAAYjG,GAAOY,EAAIkF,QAAQC,WAAWxG,IAC/DwB,QAAQC,IAAIzB,EAAKqE,OAAOzC,KAAK,sBACtBL,IAPG,MAAOA,KASlB,GAAI,WAAW6F,KAAK/F,EAAIK,MAAO,UAAU0F,KAAK/F,EAAIK,MAAO,SAAS0F,KAAK/F,EAAIK,MAAM,SAAS0F,KAAK/F,EAAIK,MAAO,QAAQ0F,KAAK/F,EAAIK,MAAM,eAAe0F,KAAK/F,EAAIK,KACxJ,MAAOH,IAGR,IAAe,OAAZF,EAAIU,OAKN,MAJAV,GAAIkF,QAAQc,aAAahG,EAAIK,IAC7BF,QAAQC,IAAI,iBAAiBJ,EAAIK,IAAIC,IAAIC,KAAK,uBAC9CJ,QAAQC,IAAIJ,EAAIkF,QAAQC,YACxBhF,QAAQC,IAAIhB,EAAMY,EAAIkF,QAAQG,aACvBxF,EAAM0E,SAAStE,EAAI,SAE1B,IAAY,SAATD,EAAIK,KAAgBL,EAAIiG,MAAsB,UAAdjG,EAAIiG,KAAKC,IAAc,MAAOhG,IAEjE,MADAC,SAAQC,IAAI,iBAAiBJ,EAAIK,IAAIC,IAAIC,MACnC,GAAIY,OAAM,uCAIlBtB,EAAME,KAAK,QAAQ,SAAUC,EAAKC,GAKjC,MAHAE,SAAQC,IAAIJ,EAAImG,SACZnG,EAAIkF,QAAQC,aAAWnF,EAAIkF,QAAQC,eACvCnF,EAAIkF,QAAQC,WAAWxG,MACnBqB,EAAIiG,MAAOjG,EAAIiG,KAAKG,MAAOpG,EAAIiG,KAAKI,MACxCrG,EAAIkF,QAAQC,WAAWxG,GAAMyH,KAAKpG,EAAIiG,KAAKG,SAC3ChE,GAAMpC,EAAIiG,KAAKG,KAAKpG,EAAIiG,KAAKI,KAAK,SAASC,EAAGC,GAC7C,MAAGD,IAEFtG,EAAIkF,QAAQC,WAAWxG,GAAM6H,IAAIF,EACjCnG,QAAQC,IAAI,cAAcE,IAAIC,KAAK+F,GAC5BzG,EAAM0E,SAAStE,EAAI,kBAEpBD,GAAIkF,QAAQC,WAAWxG,GAAM6H,IACpCxG,EAAIkF,QAAQC,WAAWxG,GAAMyG,SAAS,EAEhB,gBAAb,GACRpF,EAAIkF,QAAQC,WAAWxG,GAAMyD,MAAMmE,EAEnCvG,EAAIkF,QAAQC,WAAWxG,GAAMmE,IAAIyD,EAUlCpG,QAAQC,IAAI,WAAWqG,KAAKzG,EAAIkF,QAAQC,YACrC/F,IAAMY,EAAIkF,QAAQG,YAAYjG,GAAOY,EAAIkF,QAAQC,WAAWxG,SAC5DqB,EAAIkF,QAAQc,aACdnG,EAAM0E,SAAStE,EAAID,EAAIkF,QAAQc,cAE/BnG,EAAM0E,SAAStE,EAAI,UA9B+BJ,EAAM0E,SAAStE,EAAI,YAmCxEJ,EAAME,KAAK,QAAQ,SAAUC,EAAKC,GACjC,KAAKD,EAAIkF,SAAUlF,EAAIkF,QAAQC,YAAanF,EAAIkF,QAAQC,WAAWxG,IAAQqB,EAAIkF,QAAQC,WAAWxG,GAAMyG,UACpGpF,EAAIiG,OAAuB,UAAdjG,EAAIiG,KAAKC,KAAelG,EAAI0G,aACvC,MAAO7G,GAAMgB,OAAO,oBAAoBb,EAAIC,EAG9CD,GAAIiG,MAAgC,MAA1BU,KAAKC,UAAU5G,EAAIiG,OAAYpG,EAAMgB,OAAO,iBAAiBb,EAAIC,EAM/E,IAAI4G,GAAI,SAAUC,EAAQzF,EAAE0F,GAE3B,GAAIzH,GAAEE,UAAUwH,EAAG,EAAEvE,EAAGR,EAAKgF,MAAM,EAEnC,IAAGhF,EAAKgF,OAAwB,gBAAX,IAAgC,gBAAL,GAC/C,IAAI,GAAIhG,GAAE,EAAEA,EAAEgB,EAAKgF,MAAMxH,OAAOwB,IAAI,GAAGgB,EAAKgF,MAAMhG,IAAI3B,EAAE0H,IAAK/E,EAAKgF,MAAMhG,GAAGiG,OAAO,CAACF,IAAKvE,EAAGR,EAAKgF,MAAMhG,EAAG,OAE1G,KAAK,cAAgBwB,KAAmC,gBAARnD,GAAE0H,GACjD,GAA2C,UAAxC1H,EAAE0H,GAAIG,OAAO9E,OAAO,EAAE,GAAG+E,mBAE3B,KAAIpH,EAAI0G,WAAW,CAClB,GAAI5D,GAAIjD,EAAMkD,UAAU9C,EAAID,KAAK8C,KAAK,CACtCxD,GAAE0H,GAAI,YAAYlE,EAAI,MAAMxD,EAAE0H,GAKjC,MAAO/E,GAAK4E,IAAIvH,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAEzB+H,EAAI,SAAUP,EAAQQ,EAAIC,EAAMC,EAASC,EAAMC,GACjD,MAAOzF,GAAKoF,IAAIrH,EAAI8G,EAAQQ,EAAIC,EAAMC,EAASC,EAAMC,GAEvD,IAAiB,QAAd1H,EAAIiG,KAAKC,IACX,MAAOjG,GAAI0H,MAAMC,OAAO,MAEzB,KACC/H,EAAMgC,KAAK7B,EAAIC,EAAI4G,EAAIQ,GACvB,MAAMvG,GAENjB,EAAMgB,OAAOC,EAAEd,EAAIC,MAIrBJ,EAAMkE,IAAI,IAAK,SAAU/D,EAAKC,GAE7BJ,EAAM0E,SAAStE,EAAI,WAKpBJ,EAAMkE,IAAI,UAAW,SAAU/D,EAAKC,GAChCD,EAAIkF,SAAWlF,EAAIkF,QAAQC,kBAAkBnF,GAAIkF,QAAQC,WAAWxG,GACpES,GAASY,EAAIkF,SAAWlF,EAAIkF,QAAQG,aAAerF,EAAIkF,QAAQG,YAAYjG,UAAcY,GAAIkF,QAAQG,YAAYjG,GACjHY,EAAIkF,SAAWlF,EAAIkF,QAAQC,YAAW3B,IAAIqE,KAAK7D,QAAQ,SAASC,GAClE,GAAGA,EAAE7E,OAAOA,EAAO,CAClB,GAAI0I,GAAkB,gBAAT7D,GAAM,MAAaA,EAAEtF,MAAMsF,EAAEtF,IAC1CmJ,GAAE9D,QAAQ,SAAS/C,SACXjB,GAAIkF,QAAQC,WAAWlE,QAMjCpB,EAAM0E,SAAStE,EAAI,OAEpBJ,EAAMkE,IAAI,WAAY,SAAU/D,EAAKC,GACpC,GAAIgB,GAAEjB,EAAIkF,QAAQC,YAAcnF,EAAIkF,QAAQC,WAAWxG,GAAMqB,EAAIkF,QAAQC,WAAWxG,KACpF,OAAGsC,GAAEmE,SAAgBvF,EAAM0E,SAAStE,EAAI,SACvCJ,GAAM6C,OAAOzC,EAAI,mBACjB8H,SAAa9G,EAAEuF,IACfJ,KAASnF,EAAEmF,KACX4B,aAAgB,mBAChBrJ,KAASA,KAIX,IAAIsJ,GAAW/J,QAAQ,eAAeiB,EAAM,IAAIA,EAAM,OAAOU,EAW7D,OAVIoI,GAAWtG,IAAEsG,EAAWtG,MAC5BsG,EAAWtG,EAAEhD,KAAKA,EAClBkB,EAAM6B,KAAKuG,EAEPpI,EAAM6B,KAAKC,IAAE9B,EAAM6B,KAAKC,MACzBsG,EAAW/F,WACbA,EAAsC,gBAAtB+F,GAAmB,UAAaA,EAAW/F,UAAU+F,EAAW/F,UAEjFC,EAAY8F,EAAW9F,YACvBC,EAAM6F,EAAW7F,MACVvC","file":"route.js.map"}